!function(a){"use strict";var b=function(a,b){this.defaultOptions={step:1,shiftStep:6,circle:!1,min:null,max:null},this.init(a,b)};b.prototype={constructor:b,init:function(b,c){return this.$element=b,this.options=a.extend(!0,this.defaultOptions,c),this.watchKeyboard(),this.watchMouse(),this},watchKeyboard:function(){var a=this;return this.$element.bind("keydown",function(b){var c=b.keyCode?b.keyCode:b.which;a.keysMap[c]&&!isNaN(a.getInputVal())&&(a.keysMap[c].call(a,b),b.preventDefault())}),this},watchMouse:function(){var a=this;return this.$element.bind("mousewheel DOMMouseScroll",function(b){var c=window.event||b;Math.max(-1,Math.min(1,c.wheelDelta||-c.detail||-c.originalEvent.detail))<0?a.keysMap[40].call(a,b):a.keysMap[38].call(a,b),b.preventDefault()}),this},keysMap:{38:function(a){return this.increase(a),this.triggerEvents(),this},40:function(a){return this.decrease(a),this.triggerEvents(),this}},getNumberVal:function(a){return a?Number(a):0},getInputVal:function(){return this.getNumberVal(this.$element.val())},setInputVal:function(a){return this.$element.val(a),this},increase:function(a){var b=a.shiftKey?this.options.shiftStep:this.options.step,c=this.getInputVal()+b;return null!==this.options.max&&c>this.options.max&&(c=this.options.circle?this.options.min:this.options.max),this.setInputVal(c),this},decrease:function(a){var b=a.shiftKey?this.options.shiftStep:this.options.step,c=this.getInputVal()-b;return null!==this.options.min&&c<this.options.min&&(c=this.options.circle?this.options.max:this.options.min),this.setInputVal(c),this},triggerEvents:function(){return this.$element.trigger("keyup"),this}},a.fn.updown=function(c){return this.each(function(d){var e=a(this);e.data("updown")||e.data("updown",new b(a(this),c))})}}(window.jQuery);